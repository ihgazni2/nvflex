!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.NVFLEXJS=e():t.NVFLEXJS=e()}(this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=9)}([function(t,e,n){const r=n(5);t.exports={dcp:function(t){return JSON.parse(JSON.stringify(t))},kvlist2d:function(t,e){let n={};for(let r=0;r<t.length;r++)n[t[r]]=e[r];return n},rfile:function(t){return r.readFileSync(t).toString()},wfile:function(t,e){r.writeFileSync(t,e)},rjson:function(t){let e=r.readFileSync(t).toString();return JSON.parse(e)},wjson:function(t,e){let n=JSON.stringify(e);r.writeFileSync(t,n)}}},function(t,e){function n(t){return Object.entries(t).length}function n(t){return Object.entries(t).length}t.exports={gen_guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){let e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))},range:function(t,e){return Array.from({length:e-t}).map((e,n)=>n+t)},seqs_slct:function(t,e){return e.filter((e,n)=>t.includes(n))},dict_length:n,is_empty_dict:function(t){return 0===Object.entries(t).length},dict_values:function(t){return Object.entries(t).map(t=>t[1])},dict_keys:function(t){return Object.entries(t).map(t=>t[0])},dict_map:function(t,e){for(let n in t)t[n]=e(n,t[n]);return t},dict_foreach:function(t,e){for(let n in t)e(n,t[n]);return t},dict_length:n,dict_plus:function(t,e){for(let n in e)t[n]=e[n];return t},dict_update:function(t,e){for(let n in e){!(n in t)&&(t[n]=e[n])}return t},dtb_kv_rm:function(t,e,n){return n=n.filter(n=>n[t]!==e)},dtb_kv_get_seq:function(t,e,n){return n.findIndex(n=>n[t]===e)},dcp:function(t){return JSON.parse(JSON.stringify(t))},mat_map:function(t,e){for(let n=0;n<t.length;n++){lyr=t[n];for(let r=0;r<lyr.length;r++)t[n][r]=e(t[n][r],n,r)}return t}}},function(t,e,n){const r=n(1);function i(t){if(r.is_empty_dict(t))return 0;{let e=r.dict_keys(t);return Math.max(...e)+1}}function l(t){return null!=t}function o(t,e){return t._id=t._id+e,t._tree=t._tree+e,l(t._fstch)&&(t._fstch=t._fstch+e),l(t._lsib)&&(t._lsib=t._lsib+e),l(t._rsib)&&(t._rsib=t._rsib+e),l(t._parent)&&(t._parent=t._parent+e),t}function s(t,e){let n=i(t);for(let t in e){let r=o(e[t],n);e[r._id]=r,delete e[t]}return e}function u(t){return void 0!==t._tree}function c(t){let e=void 0!==t._tree,n=t._tree===t._id;return e&&n}function a(t){return null===t._lsib}function f(t){return null===t._rsib}function d(t){return null===t._fstch}function _(t,e){if(c(t))return!0;return 1===M(C(t,e),e).length}function h(t){return c(t)||!u(t)}function g(t,e,n){if(!h(e))return console.log("only root or uninited could be prepend"),t;let r=d(t);if(e._tree=t._tree,e._lsib=null,r)e._rsib=null,e._parent=t._id;else{let r=n[t._fstch];r._lsib=void 0,e._rsib=r._id,e._parent=void 0}return t._fstch=e._id,n[e._id]=e,t}function b(t,e,n){if(!h(e))return console.log("only root or uninited could be append"),t;let r=d(t);if(e._tree=t._tree,e._rsib=null,r)t._fstch=e._id,e._lsib=null;else{let r=O(t,n);r._parent=void 0,r._rsib=e._id,e._lsib=void 0}return e._parent=t._id,n[e._id]=e,t}function p(t,e,n){if(!h(e))return console.log("only root or uninited could be add"),t;if(c(t))return console.log("cant addrsib to root"),t;let r=f(t);return e._tree=t._tree,r?(e._parent=t._parent,t._parent=void 0,e._rsib=null):(e._rsib=t._rsib,e._parent=void 0),t._rsib=e._id,e._lsib=void 0,n[e._id]=e,t}function $(t,e,n){if(!h(e))return console.log("only root or uninited could be add"),t;if(c(t))return console.log("cant addlsib to root"),t;let r=a(t);if(e._tree=t._tree,r){let r=C(t,n);t._lsib=void 0,e._lsib=null,r._fstch=e._id}else{P(t,n)._rsib=e._id,e._lsib=void 0}return e._rsib=t._id,e._parent=void 0,n[e._id]=e,t}function m(t,e,n,r){let i=M(e,r),l=i.length;if(0===l)return g(e,n,r);if(t<=l&&t>=0){if(0===t)return g(e,n,r);if(t===l)return b(e,n,r);return p(i[t-1],n,r)}return console.log("not in range!!"),e}function y(t,e){for(let n in e)e[n]._tree=t._tree}function x(t,e){let n=B(t,e),r=n[0]._id;return n.forEach(t=>{t._tree=r}),n}function v(t,e){let n={};return t.map(t=>{let r=t._id;n[r]=t,delete e[r]}),n}function w(t){return t._fstch=null,t}function k(t){return t._lsib=null,t._rsib=null,t._parent=null,t}function z(t,e){if(c(t))return[t,e];if(_(t,e)){w(e[t._parent]);let n=v(x(t,e),e);return k(t),[t,n]}if(a(t)){J(t,e)._lsib=null,C(t,e)._fstch=t._rsib;let n=v(x(t,e),e);return k(t),[t,n]}if(f(t)){let n=P(t,e);n._rsib=t._rsib,n._parent=t._parent;let r=v(x(t,e),e);return k(t),[t,r]}{P(t,e)._rsib=t._rsib;let n=v(x(t,e),e);return k(t),[t,n]}}function j(t,e){return null===t._fstch?null:e[t._fstch]}function M(t,e){let n=[],r=j(t,e);for(;null!==r;)n.push(r),r=J(r,e);return n}function O(t,e){let n=M(t,e);return 0===n.length?null:n[n.length-1]}function S(t,e,n){let r=M(e,n);if(0===r.length)return null;return t>r.length-1||t<0?null:r[t]}function E(t,e,...n){let r=M(t,e),i=[];if(0===r.length);else for(let t=0;t<n.length;t++){let e=n[t];e>r.length-1||e<0||i.push(r[e])}return i}function q(t,e,n=!1){let r=t,i=J(t,e);for(;null!==i;)r=i,i=J(i,e);return n||r._id!==t._id?r:null}function N(t,e,n=!1){let i,l=C(t,e);return i=null!==l?M(l,e):[t],n||(i=r.dtb_kv_rm("_id",t._id,i)),i}function P(t,e){let n=N(t,e,!0),i=r.dtb_kv_get_seq("_id",t._id,n);return 0===i?null:n[i-1]}function J(t,e){return null===t._rsib?null:e[t._rsib]}function T(t,e){return U(t,e,!0).length-1}function A(t,e){let n=T(t,e),r=B(t,e).map(t=>T(t,e));return Math.max(...r)-n+1}function F(t,e){let n=B(L(t,e),e),r=T(t,e);return n.filter(t=>T(t,e)===r)}function I(t,e){let n=F(t,e);return r.dtb_kv_get_seq("_id",t._id,n)}function L(t,e){let n=t,r=C(t,e);for(;null!==r;)n=r,r=C(r,e);return n}function C(t,e){let n;if(c(t))n=null;else{n=e[q(t,e,!0)._parent]}return n}function U(t,e,n=!1){let r=[],i=C(t,e);for(;null!==i;)r.push(i),i=C(i,e);return n&&r.unshift(t),r}function V(t,e){let n=C(t,e);for(;null!==n;){let t=J(n,e);if(null!==t)return t;n=C(n,e)}return null}function X(t,e){let n=j(t,e);if(null!==n)return n;{let n=J(t,e);return null!==n?n:V(t,e)}}function R(t,e){let n=t,r=O(t,e);for(;null!==r;)n=r,r=O(r,e);return n}function B(t,e){let n=T(t,e),r=[];for(;null!==t;)if(r.push(t),null!==(t=X(t,e))){if(T(t,e)<=n)break}return r}function D(t,e){let n=t,r=j(t,e);for(;null!==r;)n=r,r=j(r,e);return n}function G(t,e){let n=J(t,e);if(null===n){return C(t,e)}return D(n,e)}function H(t,e){let n=C(t,e);for(;null!==n;){let t=P(n,e);if(null!==t)return t;n=C(n,e)}return null}function K(t,e){let n=[],r=D(t,e);for(;null!==r&&(n.push(r),r._id!==t._id);)r=G(r,e);return n}function Q(t){r.dict_foreach(t,(e,n)=>{t[e]._$visited=!1})}function W(t,e){let n=t._$visited;if(d(t)){if(n){let n=J(t,e);return null===n?C(t,e):n}return t._$visited=!0,t}if(n){let n=J(t,e);return null===n?C(t,e):n}return t._$visited=!0,j(t,e)}function Y(t,e){return e._$visited&&t===e._id}function Z(t,e,n=!1,i=!0){let l=[];Q(e);let o=t._id;for(;!Y(o,t);)n?l.push(r.dcp(t)):l.push(t),t=W(t,e);return n?l.push(r.dcp(t)):l.push(t),i&&Q(e),l}function tt(t){let e={ele:{}};return e.nd=t,e.ele._id=t._id,e.ele._children=[],e}function et(t,e){let n=[],r=[tt(t[0])];for(r[0].ele._pbreadth=null;r.length>0;){let t=[];for(let i=0;i<r.length;i++){r[i].ele._breadth=i,r[i].ele._depth=n.length;let l=M(r[i].nd,e);l=l.map(t=>tt(t)),l.forEach((e,l)=>{e.ele._pbreadth=r[i].ele._breadth,r[i].ele._children.push([n.length+1,t.length+l])}),t=t.concat(l)}let i=r.map(t=>t.ele);n.push(i),r=t}return n}function nt(t,e){return K(t[0],e)}function rt(t,e,n=!1,r=!0){return Z(t[0],e,n,r)}function it(t,e){return B(t[t.length-1],e)}function lt(t,e){return B(t[0],e)}function ot(t,e,n=!1){let r=B(t,e);return n||r.splice(0,1),r}function st(t,e,n){let r=T(e,n),i=ot(e,n,!1);sdfs.map(t=>T(t,n));return i=i.filter(e=>T(e,n)===r+t),i}function ut(t){return L(t[r.dict_keys(t)[0]],t)}t.exports={calc_next_id:i,update_nodes_ids:s,creat_root:function(t=0){return{_id:t,_fstch:null,_lsib:null,_rsib:null,_parent:null,_tree:t}},creat_nd:function(t,e=0){return{_id:i(t)+e,_fstch:null,_lsib:void 0,_rsib:void 0,_parent:void 0,_tree:void 0}},is_inited:u,is_root:c,is_fstch:a,is_lstch:f,is_leaf:d,is_lonely:_,is_id:l,is_connectable:h,prepend_child:g,append_child:b,insert_child:m,add_rsib:p,add_lsib:$,get_fstch:j,get_rsib:J,get_children:M,get_lstch:O,get_which_child:S,get_some_children:E,get_fstsib:function(t,e,n=!1){let r=N(t,e,!0);return n?r[0]:r[0]._id===t._id?null:r[0]},get_lstsib:q,get_preceding_sibs:function(t,e){let n=N(t,e,!0),i=r.dtb_kv_get_seq("_id",t._id,n),l=[];if(0===n.length);else for(let t=0;t<n.length;t++){t<i&&l.push(n[t])}return l},get_following_sibs:function(t,e){let n=N(t,e,!0),i=r.dtb_kv_get_seq("_id",t._id,n),l=[];if(0===n.length);else for(let t=0;t<n.length;t++){t>i&&l.push(n[t])}return l},get_sibs:N,get_which_sib:function(t,e,n){let r=N(e,n,!0);return t<=r.length-1&&t>=0?r[t]:null},get_some_sibs:function(t,e,...n){let r=N(t,e,!0),i=[];if(0===r.length);else for(let t=0;t<n.length;t++){let e=n[t];e>r.length-1||e<0||i.push(r[e])}return i},get_sibseq:function(t,e){let n=N(t,e,!0);return r.dtb_kv_get_seq("_id",t._id,n)},get_lsib:P,get_rsib:J,get_lyr:F,get_breadth:I,get_count:function(t,e){return B(t,e).length},get_depth:T,get_height:A,get_fst_lyr_des_depth:function(t,e){return d(t)?null:T(t,e)+1},get_lst_lyr_des_depth:function(t,e){if(d(t))return null;{T(t,e);let n=B(t,e).map(t=>T(t,e));return Math.max(...n)}},get_which_lyr_des_depth:function(t,e,n){let r=T(e,n);return A(e,n)<=t?null:r+t},get_root:L,get_parent:C,get_ances:U,get_which_ance:function(t,e,n){let r=U(e,n,!0);return t<r.length&&t>=0?r[t]:null},get_some_ances:function(t,e,...n){let r=U(t,e,!0),i=[];if(0===r.length);else for(let t=0;t<n.length;t++){let e=n[t];e>r.length-1||e<0||i.push(r[e])}return i},get_rsib_of_fst_ance_having_rsib:V,get_sdfs_next:X,get_drmost_des:R,get_sdfs_prev:function(t,e){if(c(t))return null;if(d(t)){let n=P(t,e);if(null!==n)return n;return C(t,e)}{let n=P(t,e);if(null!==n){return d(n)?n:R(n,e)}return C(t,e)}},get_sdfs:B,get_lsib_of_fst_ance_having_lsib:H,get_dlmost_des:D,get_edfs_next:G,get_edfs_prev:function(t,e){if(d(t)){let n=P(t,e);return null===n?H(t,e):n}return O(t,e)},get_edfs:K,clear_$visited:Q,get_sedfs_next:W,is_sedfs_traverse_finished:Y,get_sedfs_prev:function(t,e,n){if(d(e)){if(t)return e;{let t=P(e,n);return null===t?C(e,n):t}}if(t)return O(e,n);{let t=P(e,n);return null===t?C(e,n):t}},get_sedfs:Z,get_deses:ot,get_fst_lyr_deses:function(t,e){return M(t,e)},get_lst_lyr_deses:function(t,e){let n=ot(t,e,!1),r=sdfs.map(t=>T(t,e)),i=Math.max(...r);return n=n.filter(t=>T(t,e)===i),n},get_which_lyr_deses:st,get_some_lyrs_deses:function(t,e,...n){let r=n.map(n=>st(n,t,e));return r=Array.prototype.concat(...r),r},nd2ele:function(t,e){let n={};n._depth=T(t,e),n._breadth=I(t,e);let r=C(t,e);return n._pbreadth=null===r?null:I(r,e),n._id=t._id,n},sdfs2mat:et,sdfs2edfs:nt,sdfs2sedfs:rt,edfs2mat:function(t,e){return et(it(t,e),e)},edfs2sdfs:it,edfs2sedfs:function(t,e,n=!1,r=!0){return rt(it(t,e),e,n,r)},sedfs2mat:function(t,e){return et(lt(t,e),e)},sedfs2sdfs:lt,sedfs2edfs:function(t,e){return nt(lt(t,e),e)},update_disconnected_nodes:x,update_orig_nodes:v,leafize:w,rootize:k,disconnect:z,rm_fstch:function(t,e){let n=j(t,e);return null===n?[t,e]:z(n,e)},rm_lstch:function(t,e){let n=O(t,e);return null===n?[t,e]:z(n,e)},rm_which:function(t,e,n){let r=S(t,e,n);return null===r?[e,n]:z(r,n)},rm_some:function(t,e,...n){let r=E(t,e,...whiches);for(let t=0;t<r.length;t++)z(r[t],e);return[t,e]},rm_all:function(t,e){let n=M(t,e);for(let t=0;t<n.length;t++)z(n[t],e);return e},update_treeid:y,update_one_nodeid:o,update_nodes_ids:s,prepend_child_tree:function(t,e,n){return y(t=g(t,L((n=s(e,n))[r.dict_keys(n)[0]],n),e),n),r.dict_plus(e,n),t},append_child_tree:function(t,e,n){return y(t=b(t,L((n=s(e,n))[r.dict_keys(n)[0]],n),e),n),r.dict_plus(e,n),t},add_rsib_tree:function(t,e,n){return y(t=p(t,L((n=s(e,n))[r.dict_keys(n)[0]],n),e),n),r.dict_plus(e,n),t},add_lsib_tree:function(t,e,n){return y(t=$(t,L((n=s(e,n))[r.dict_keys(n)[0]],n),e),n),r.dict_plus(e,n),t},insert_child_tree:function(t,e,n,i){return y(e=m(t,e,L((i=s(n,i))[r.dict_keys(i)[0]],i),n),i),r.dict_plus(n,i),e},get_root_via_tree:ut,tree2sdfs:function(t){return B(ut(t),t)}}},function(t,e,n){const r=n(11),i={};for(const t of Object.keys(r))i[r[t]]=t;const l={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};t.exports=l;for(const t of Object.keys(l)){if(!("channels"in l[t]))throw new Error("missing channels property: "+t);if(!("labels"in l[t]))throw new Error("missing channel labels property: "+t);if(l[t].labels.length!==l[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:n}=l[t];delete l[t].channels,delete l[t].labels,Object.defineProperty(l[t],"channels",{value:e}),Object.defineProperty(l[t],"labels",{value:n})}l.rgb.hsl=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),l=Math.max(e,n,r),o=l-i;let s,u;l===i?s=0:e===l?s=(n-r)/o:n===l?s=2+(r-e)/o:r===l&&(s=4+(e-n)/o),s=Math.min(60*s,360),s<0&&(s+=360);const c=(i+l)/2;return u=l===i?0:c<=.5?o/(l+i):o/(2-l-i),[s,100*u,100*c]},l.rgb.hsv=function(t){let e,n,r,i,l;const o=t[0]/255,s=t[1]/255,u=t[2]/255,c=Math.max(o,s,u),a=c-Math.min(o,s,u),f=function(t){return(c-t)/6/a+.5};return 0===a?(i=0,l=0):(l=a/c,e=f(o),n=f(s),r=f(u),o===c?i=r-n:s===c?i=1/3+e-r:u===c&&(i=2/3+n-e),i<0?i+=1:i>1&&(i-=1)),[360*i,100*l,100*c]},l.rgb.hwb=function(t){const e=t[0],n=t[1];let r=t[2];const i=l.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[i,100*o,100*r]},l.rgb.cmyk=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(1-e,1-n,1-r);return[100*((1-e-i)/(1-i)||0),100*((1-n-i)/(1-i)||0),100*((1-r-i)/(1-i)||0),100*i]},l.rgb.keyword=function(t){const e=i[t];if(e)return e;let n,l=1/0;for(const e of Object.keys(r)){const i=r[e],u=(s=i,((o=t)[0]-s[0])**2+(o[1]-s[1])**2+(o[2]-s[2])**2);u<l&&(l=u,n=e)}var o,s;return n},l.keyword.rgb=function(t){return r[t]},l.rgb.xyz=function(t){let e=t[0]/255,n=t[1]/255,r=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;return[100*(.4124*e+.3576*n+.1805*r),100*(.2126*e+.7152*n+.0722*r),100*(.0193*e+.1192*n+.9505*r)]},l.rgb.lab=function(t){const e=l.rgb.xyz(t);let n=e[0],r=e[1],i=e[2];n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;return[116*r-16,500*(n-r),200*(r-i)]},l.hsl.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;let i,l,o;if(0===n)return o=255*r,[o,o,o];i=r<.5?r*(1+n):r+n-r*n;const s=2*r-i,u=[0,0,0];for(let t=0;t<3;t++)l=e+1/3*-(t-1),l<0&&l++,l>1&&l--,o=6*l<1?s+6*(i-s)*l:2*l<1?i:3*l<2?s+(i-s)*(2/3-l)*6:s,u[t]=255*o;return u},l.hsl.hsv=function(t){const e=t[0];let n=t[1]/100,r=t[2]/100,i=n;const l=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,i*=l<=1?l:2-l;return[e,100*(0===r?2*i/(l+i):2*n/(r+n)),100*((r+n)/2)]},l.hsv.rgb=function(t){const e=t[0]/60,n=t[1]/100;let r=t[2]/100;const i=Math.floor(e)%6,l=e-Math.floor(e),o=255*r*(1-n),s=255*r*(1-n*l),u=255*r*(1-n*(1-l));switch(r*=255,i){case 0:return[r,u,o];case 1:return[s,r,o];case 2:return[o,r,u];case 3:return[o,s,r];case 4:return[u,o,r];case 5:return[r,o,s]}},l.hsv.hsl=function(t){const e=t[0],n=t[1]/100,r=t[2]/100,i=Math.max(r,.01);let l,o;o=(2-n)*r;const s=(2-n)*i;return l=n*i,l/=s<=1?s:2-s,l=l||0,o/=2,[e,100*l,100*o]},l.hwb.rgb=function(t){const e=t[0]/360;let n=t[1]/100,r=t[2]/100;const i=n+r;let l;i>1&&(n/=i,r/=i);const o=Math.floor(6*e),s=1-r;l=6*e-o,0!=(1&o)&&(l=1-l);const u=n+l*(s-n);let c,a,f;switch(o){default:case 6:case 0:c=s,a=u,f=n;break;case 1:c=u,a=s,f=n;break;case 2:c=n,a=s,f=u;break;case 3:c=n,a=u,f=s;break;case 4:c=u,a=n,f=s;break;case 5:c=s,a=n,f=u}return[255*c,255*a,255*f]},l.cmyk.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100,i=t[3]/100;return[255*(1-Math.min(1,e*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},l.xyz.rgb=function(t){const e=t[0]/100,n=t[1]/100,r=t[2]/100;let i,l,o;return i=3.2406*e+-1.5372*n+-.4986*r,l=-.9689*e+1.8758*n+.0415*r,o=.0557*e+-.204*n+1.057*r,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,l=l>.0031308?1.055*l**(1/2.4)-.055:12.92*l,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,i=Math.min(Math.max(0,i),1),l=Math.min(Math.max(0,l),1),o=Math.min(Math.max(0,o),1),[255*i,255*l,255*o]},l.xyz.lab=function(t){let e=t[0],n=t[1],r=t[2];e/=95.047,n/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;return[116*n-16,500*(e-n),200*(n-r)]},l.lab.xyz=function(t){let e,n,r;n=(t[0]+16)/116,e=t[1]/500+n,r=n-t[2]/200;const i=n**3,l=e**3,o=r**3;return n=i>.008856?i:(n-16/116)/7.787,e=l>.008856?l:(e-16/116)/7.787,r=o>.008856?o:(r-16/116)/7.787,e*=95.047,n*=100,r*=108.883,[e,n,r]},l.lab.lch=function(t){const e=t[0],n=t[1],r=t[2];let i;i=360*Math.atan2(r,n)/2/Math.PI,i<0&&(i+=360);return[e,Math.sqrt(n*n+r*r),i]},l.lch.lab=function(t){const e=t[0],n=t[1],r=t[2]/360*2*Math.PI;return[e,n*Math.cos(r),n*Math.sin(r)]},l.rgb.ansi16=function(t,e=null){const[n,r,i]=t;let o=null===e?l.rgb.hsv(t)[2]:e;if(o=Math.round(o/50),0===o)return 30;let s=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===o&&(s+=60),s},l.hsv.ansi16=function(t){return l.rgb.ansi16(l.hsv.rgb(t),t[2])},l.rgb.ansi256=function(t){const e=t[0],n=t[1],r=t[2];if(e===n&&n===r)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;return 16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},l.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},l.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;t-=16;return[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},l.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},l.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];3===e[0].length&&(n=n.split("").map(t=>t+t).join(""));const r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},l.rgb.hcg=function(t){const e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(Math.max(e,n),r),l=Math.min(Math.min(e,n),r),o=i-l;let s,u;return s=o<1?l/(1-o):0,u=o<=0?0:i===e?(n-r)/o%6:i===n?2+(r-e)/o:4+(e-n)/o,u/=6,u%=1,[360*u,100*o,100*s]},l.hsl.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=n<.5?2*e*n:2*e*(1-n);let i=0;return r<1&&(i=(n-.5*r)/(1-r)),[t[0],100*r,100*i]},l.hsv.hcg=function(t){const e=t[1]/100,n=t[2]/100,r=e*n;let i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],100*r,100*i]},l.hcg.rgb=function(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100;if(0===n)return[255*r,255*r,255*r];const i=[0,0,0],l=e%1*6,o=l%1,s=1-o;let u=0;switch(Math.floor(l)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=s,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=s,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=s}return u=(1-n)*r,[255*(n*i[0]+u),255*(n*i[1]+u),255*(n*i[2]+u)]},l.hcg.hsv=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);let r=0;return n>0&&(r=e/n),[t[0],100*r,100*n]},l.hcg.hsl=function(t){const e=t[1]/100,n=t[2]/100*(1-e)+.5*e;let r=0;return n>0&&n<.5?r=e/(2*n):n>=.5&&n<1&&(r=e/(2*(1-n))),[t[0],100*r,100*n]},l.hcg.hwb=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},l.hwb.hcg=function(t){const e=t[1]/100,n=1-t[2]/100,r=n-e;let i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],100*r,100*i]},l.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},l.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},l.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},l.gray.hsl=function(t){return[0,0,t[0]]},l.gray.hsv=l.gray.hsl,l.gray.hwb=function(t){return[0,100,t[0]]},l.gray.cmyk=function(t){return[0,0,0,t[0]]},l.gray.lab=function(t){return[t[0],0,0]},l.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},l.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},function(t,e,n){const{kvlist2d:r}=n(0);function i(t){let e=(t=t.trim()).split("\n");e=e.map(t=>t.trim());let n=e.map(t=>t.split(""));return{cmat:n.map((t,e)=>t.map((t,n)=>({x:e,y:n,rune:t}))),bmap:n}}function l(t){let e=Array.prototype.concat(...t);return e.reverse(),e}function o(t,e,n){let r=e.x,i=e.y,l=n.x+1,o=n.y+1,s=[];for(let e=r;e<l;e++){let n=t[e];n=n.slice(i,o),s.push(n)}return s}function s(t,e,n){let r=o(t,e,n);return Array.prototype.concat(...r)}function u(t){return t.length}function c(t){return t[0].length}function a(t,e){return t.filter(t=>null!==e[t.x][t.y]).length===t.length}function f(t){let e=t[0].rune;return t.every(t=>t.rune===e)}function d(t,e,n,r){let i=s(n,t,e),l=a(i,r),o=f(i);return l&&o}function _(t,e){let n=t.x<=e.x,r=t.y<=e.y;return n&&r}function h(t,e){let n={};return n.t=t.x,n.l=t.y,n.b=e.x,n.r=e.y,n.rune=t.rune,n}function g(t,e){return e.forEach(e=>{t[e.x][e.y]=null}),t}function b(t){let e=t.carr,n=t.zones,r=t.bmap,i=t.cmat;for(let t=0;t<e.length;t++){let l=e[t];l.x,l.y;for(let o=e.length-1;o>t-1;o--){let t=e[o];if(_(t,l)){if(d(t,l,i,r)){let o=s(i,t,l);e=e.filter(t=>!o.includes(t));let u=h(t,l);return n.push(u),r=g(r,o),{carr:e,zones:n,cmat:i,bmap:r}}}}}}function p(t){let{cmat:e,bmap:n}=i(t),r={carr:l(e),zones:[],cmat:e,bmap:n};for(;r.carr.length>0;)r=b(r);return r}function $(t,e,n){void 0===e&&(e=255),void 0===n&&(n=0);return"[38;5;"+e+"m[48;5;"+n+"m"+t+"[0m"}function m(t){let e=Array.prototype.concat(...t).map(t=>t.rune);e=new Set(e),e=Array.from(e);let n=e.map((t,e)=>t.charCodeAt()+10*e);return r(e,n)}t.exports={parse:p,creat_cell:function(t,e,n){return{x:t,y:e,rune:n}},cmat2carr:l,get_submat_via_tlbr_from_cmat:o,get_subcarr_via_tlbr_from_cmat:s,get_cmat_rn:u,get_cmat_cn:c,get_cmat_rncn:function(t){return[u(t),c(t)]},is_cell_in_cmat:function(t,e){let n=u(t),r=c(t);return e.x<=r&&e.y<=n&&t[e.x][e.y].rune===e.rune},is_continuous:a,is_all_having_same_rune:f,is_zone:d,is_tl_of:_,is_br_of:function(t,e){return _(e,t)},creat_zone:h,iter_next:b,s2cmat_bmap:i,get_clrd:m,playout:function(t){let{zones:e,cmat:n}=p(t);!function(t){let e=m(t);for(let n=0;n<t.length;n++){let r=t[n];r=r.map(t=>$(t.rune+t.rune,e[t.rune],e[t.rune])),console.log(r.join(""))}}(n)},ansi256_color_control:$}},function(t,e){},function(t,e){function n(t,e){return`\n<html>\n    <head>\n        <style type="text/css">\n            body {\n                margin:0;\n            }\n            .root {\n                display:flex;\n                flex-direction:column;\n                justify-content:space-around;\n                align-items:center;\n                flex:1;\n                width:${e.root.attrib.style.width};\n                height:${e.root.attrib.style.height};\n                background-color:${e.root.attrib.style["background-color"]};\n            }\n            .rows-container {\n                display:flex;\n                flex-direction:column;\n                justify-content:space-around;\n                align-items:center;\n                box-sizing:border-box;\n            }\n            .columns-container {\n                display:flex;\n                flex-direction:row;\n                justify-content:space-around;\n                align-items:center;\n                box-sizing:border-box;\n            }\n            .row {\n                width:100%;\n            }\n            .column {\n                height:100%;\n            }\n            .plain-leaf {\n                box-sizing:border-box;\n                height:100%;\n                width:100%;\n            }\n            .btn-leaf {\n                height:calc(100% - 2vw);\n                width:calc(100% - 2vw);\n                box-sizing:border-box;\n                border-radius:1vw;\n                border:solid 0.1vw #ffffff;\n            }\n            .border-leaf {\n                background-color:${e.root.attrib.style["background-color"]};\n                height:calc(100% - 2vw);\n                width:calc(100% - 2vw);\n                box-sizing:border-box;\n                border-radius:1vw;\n                border:solid 0.1vw #ffffff;\n            }\n            .card-leaf {\n                background-color:${e.root.attrib.style["background-color"]};\n                height:calc(100% - 2vw);\n                width:calc(100% - 2vw);\n                box-sizing:border-box;\n                border-radius:5px;\n                border:solid 2px #ffffff;\n                transition: 0.3s;\n                box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);\n            }\n            .img-leaf {\n                background-color:${e.root.attrib.style["background-color"]};\n                height:calc(100% - 2vw);\n                width:calc(100% - 2vw);\n                box-sizing:border-box;\n                border-radius:5px;\n                border:solid 2px #ffffff;\n                transition: 0.3s;\n                box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);\n                background-repeat: no-repeat;\n                background-position: center;\n                background-image:url('http://5b0988e595225.cdn.sohucs.com/images/20190204/ecf26954de514afe8c6992b66d446a25.jpeg');\n            }\n            .plain-img-leaf {\n                background-color:${e.root.attrib.style["background-color"]};\n                height:100%;\n                width:100%;\n                box-sizing:border-box;\n                background-repeat: no-repeat;\n                background-position: center;\n                background-image:url('http://5b0988e595225.cdn.sohucs.com/images/20190204/ecf26954de514afe8c6992b66d446a25.jpeg');\n            }\n        </style>\n    </head>\n    <body>\n${t}\n    </body>\n</html>`}function r(t,e){return t[e].$open_at===e}function i(t,e){let n="";for(let r in t)n=n+e+r+":"+t[r]+";\n";return n}function l(t,e){let n="";for(let r in t)if("style"===r){let r="    "+e;n=n+r+'style="\n',n+=i(t.style,r+"    "),n=n+r+'"\n'}else{n=n+("    "+e)+r+'="'+t[r].toString()+'"\n'}return n}function o(t,e){let n=e.$parent(),r=e.$depth();"    ".repeat(r+2);if(null!==n){return"col"===n.zone.type?["height","100%"]:["width","100%"]}e.zone.b,e.zone.t,e.zone.b,e.zone.t;return[]}function s(t){let e=t.$parent();if(null!==e){if("col"===e.zone.type){return t.zone.r-t.zone.l+1}return t.zone.b-t.zone.t+1}return 1}function u(t,e){e.zone.rune;let n={style:{}},r=o(0,e);r.length<=0?(n.style.width=t.root.attrib.style.width,n.style.height=t.root.attrib.style.height,n.style["box-sizing"]=t.root.attrib.style["box-sizing"],n.style["background-color"]=t.root.attrib.style["background-color"]):n.style[r[0]]=r[1],n.style.display="flex",n.style["justify-content"]="space-around",n.style["align-items"]="center";let i=e.zone.type;return n.style["flex-direction"]="row"===i?"column":"row",n.style.flex=s(e),n}function c(t,e){e.zone.rune;let n={style:{}},r=o(0,e);r.length<=0?n.class="root":"height"===r[0]?n.class="column":n.class="row";let i=e.zone.type;return n.class="row"===i?n.class+" rows-container":n.class+" columns-container",n.style.flex=s(e),n}function a(t,e,n=!0){let r="",i=e.zone.rune,o=e.$depth();if(void 0!==i){r=t[i].tag?t[i].tag:t.root.tag,r="    ".repeat(o)+"<"+r+"\n";let e=t[i].attrib;e=l(e,"    ".repeat(o)),r=r+e+"\n",r=r+"    ".repeat(o)+">\n"}else{r=t.root.tag,r="    ".repeat(o)+"<"+r+"\n";let i=n?u(t,e):c(0,e);i=l(i,"    ".repeat(o)),r=r+i+"    ".repeat(o)+">\n"}if(t[i]&&t[i].text){let e=t[i].text;r+="\n",r=r+"    ".repeat(o+1)+e+"\n"}if(t[i]&&t[i].tail){let e=t[i].tail;r+="\n",r=r+"    ".repeat(o)+e+"\n"}return r}function f(t,e){let n="",r=e.zone.rune,i=e.$depth();return void 0!==r?(n=t[r].tag?t[r].tag:t.root.tag,n="    ".repeat(i)+"</"+n+">\n"):(n=t.root.tag,n="    ".repeat(i)+"</"+n+">\n"),n}t.exports={is_stag:r,is_etag:function(t,e){return t[e].$close_at===e},creat_stag:a,creat_etag:f,creat_css_str:i,creat_attrib_str:l,creat_inline_container_attrib:u,calc_hw:o,calc_flex:s,sedfs2inline_html:function(t,e){let n="";for(let i=0;i<e.length;i++)r(e,i)?n+=a(t,e[i],!0):n+=f(t,e[i]);return n=n.replace(/\n+/g,"\n"),n},wrap:n,creat_outband_container_attrib:c,sedfs2outband_html:function(t,e){let i="";for(let n=0;n<e.length;n++)r(e,n)?i+=a(t,e[n],!1):i+=f(t,e[n]);return i=i.replace(/\n+/g,"\n"),i=n(i,t),i}}},function(t,e,n){const r=n(13).ndcls,{dcp:i}=n(0);function l(t){return{sx:t.l,sy:t.t,ex:t.l,ey:t.b}}function o(t){return{sx:t.r,sy:t.t,ex:t.r,ey:t.b}}function s(t){return{sx:t.l,sy:t.t,ex:t.r,ey:t.t}}function u(t){return{sx:t.l,sy:t.b,ex:t.r,ey:t.b}}function c(t,e){let n=o(t),r=l(e),i=n.ey-n.sy+1,s=r.ey-r.sy+1===i,u=n.sx+1===r.sx,c=t.t===e.t;return s&&u&&c}function a(t,e){return c(e,t)}function f(t,e){let n=u(t),r=s(e),i=n.ex-n.sx+1===r.ex-r.sx+1,l=n.ey+1===r.sy,o=t.l===e.l;return i&&l&&o}function _(t,e){return f(e,t)}function h(t){return t.sort((function(t,e){let n=t.zone.t-e.zone.t;return 0===n?t.zone.l-e.zone.l:n})),t}function g(t){return t.sort((function(t,e){let n=t.zone.l-e.zone.l;return 0===n?t.zone.t-e.zone.t:n})),t}function b(t,e){let n={t:t.zone.t,l:t.zone.l,b:e.zone.b,r:e.zone.r,type:"col"},i=new r.Tree;return i.zone=n,i.$append_child(t),i.$append_child(e),i}function p(t,e){let n={t:t.zone.t,l:t.zone.l,b:e.zone.b,r:e.zone.r,type:"row"},i=new r.Tree;return i.zone=n,i.$append_child(t),i.$append_child(e),i}function $(t){unhandled=t.unhandled,handled=t.handled;let e=unhandled[0],n=[];for(let t=1;t<unhandled.length;t++){let r=unhandled[t];a(r.zone,e.zone)?e=b(e,r):n.push(r)}return handled.push(e),unhandled=n,{handled:handled,unhandled:unhandled}}function m(t){unhandled=t.unhandled,handled=t.handled;let e=unhandled[0],n=[];for(let t=1;t<unhandled.length;t++){let r=unhandled[t];_(r.zone,e.zone)?e=p(e,r):n.push(r)}return handled.push(e),unhandled=n,{handled:handled,unhandled:unhandled}}function y(t){let e=g(t);for(d={unhandled:e,handled:[]};d.unhandled.length>0;)d=$(d);return d.handled}function x(t){let e=h(t);for(d={unhandled:e,handled:[]};d.unhandled.length>0;)d=m(d);return d.handled}t.exports={get_ledge:l,get_redge:o,get_tedge:s,get_bedge:u,edge_eq:function(t,e){let n=t.sx===e.sx,r=t.sy===e.sy,i=t.ex===e.ex,l=t.ey===e.ey;return n&&r&&i&&l},is_ladj_of:c,is_radj_of:a,is_tadj_of:f,is_badj_of:_,zones2znds:function(t){return t.map(t=>{let e=new r.Tree;return e.zone=t,e})},sort_znds_l2r:function(t){return t.sort((function(t,e){return t.zone.l-e.zone.l})),t},sort_znds_t2b:function(t){return t.sort((function(t,e){return t.zone.t-e.zone.t})),t},sort_znds_tl2br:h,sort_znds_lt2rb:g,lppend:function(t,e){let n={t:e.zone.t,l:e.zone.l,b:t.zone.b,r:t.zone.r,type:"col"},i=new r.Tree;return i.zone=n,i.$append_child(e),i.$append_child(t),i},rppend:b,tppend:function(t,e){let n={t:e.zone.t,l:e.zone.l,b:t.zone.b,r:t.zone.r,type:"row"},i=new r.Tree;return i.zone=n,i.$append_child(e),i.$append_child(t),i},bppend:p,iter_next_l2r:$,iter_next_t2b:m,agg_l2r:y,agg_t2b:x,znds2tree:function(t){for(;t.length>1;){let e=y(t.map(t=>t.$clone())),n=x(t.map(t=>t.$clone()));t=n.length<e.length?n:e}return t[0]},show_znd_tree:function(t){let e=t.$sdfs();for(let t=0;t<e.length;t++){let n=e[t],r=n.$depth(),i="    ".repeat(r)+t+":",l=void 0===n.zone.type?n.zone.rune:n.zone.type;console.log(i+l)}}}},function(t,e,n){const r=n(5);t.exports={rjson:function(t){let e=r.readFileSync(t).toString();return JSON.parse(e)},wjson:function(t,e){let n=JSON.stringify(e);r.writeFileSync(t,n)},is_int_str:function(t){return parseInt(t).toString()===t}}},function(t,e,n){const r=n(10),{get_clrd:i,parse:l,playout:o}=n(4),{sedfs2inline_html:s,sedfs2outband_html:u}=n(6),{zones2znds:c,znds2tree:a}=n(7),{dcp:f}=n(0),d=n(4),_=n(6),h=n(7);function g(t,e,n,r){return"btn"===r?e={attrib:{style:{"background-color":n[t],"box-sizing":"border-box",height:"calc(100% - 2vw)",width:"calc(100% - 2vw)","border-radius":"1vw",border:"solid 0.1vw #ffffff"}},tag:"div",text:"",tail:""}:"border"===r?e={attrib:{style:{"background-color":e.root.attrib.style["background-color"],"box-sizing":"border-box",height:"calc(100% - 2vw)",width:"calc(100% - 2vw)","border-radius":"1vw",border:"solid 0.1vw #ffffff"}},tag:"div",text:"",tail:""}:"card"===r?(e.root.attrib.style["background-color"]="#ffffff",e={attrib:{style:{"background-color":e.root.attrib.style["background-color"],"box-sizing":"border-box",height:"calc(100% - 2vw)",width:"calc(100% - 2vw)",border:"solid 2px #ffffff","border-radius":"5px",transition:"0.3s","box-shadow":"0 4px 8px 0 rgba(0,0,0,0.2)"}},tag:"div",text:"",tail:""}):"img-contain"===r?(e.root.attrib.style["background-color"]="#ffffff",e={attrib:{style:{"background-color":e.root.attrib.style["background-color"],"box-sizing":"border-box",height:"calc(100% - 2vw)",width:"calc(100% - 2vw)",border:"solid 2px #ffffff","border-radius":"5px",transition:"0.3s","box-shadow":"0 4px 8px 0 rgba(0,0,0,0.2)","background-repeat":"no-repeat","background-size":"contain","background-position":"center","background-image":"url('http://5b0988e595225.cdn.sohucs.com/images/20190204/ecf26954de514afe8c6992b66d446a25.jpeg');"}},tag:"div",text:"",tail:""}):"img-cover"===r?(e.root.attrib.style["background-color"]="#ffffff",e={attrib:{style:{"background-color":e.root.attrib.style["background-color"],"box-sizing":"border-box",height:"calc(100% - 2vw)",width:"calc(100% - 2vw)",border:"solid 2px #ffffff","border-radius":"5px",transition:"0.3s","box-shadow":"0 4px 8px 0 rgba(0,0,0,0.2)","background-repeat":"no-repeat","background-size":"cover","background-position":"center","background-image":"url('http://5b0988e595225.cdn.sohucs.com/images/20190204/ecf26954de514afe8c6992b66d446a25.jpeg');"}},tag:"div",text:"",tail:""}):"plain-img-contain"===r?(e.root.attrib.style["background-color"]="#ffffff",e={attrib:{style:{"background-color":e.root.attrib.style["background-color"],"box-sizing":"border-box",height:"100%",width:"100%","background-repeat":"no-repeat","background-size":"contain","background-position":"center","background-image":"url('http://5b0988e595225.cdn.sohucs.com/images/20190204/ecf26954de514afe8c6992b66d446a25.jpeg');"}},tag:"div",text:"",tail:""}):"plain-img-cover"===r?(e.root.attrib.style["background-color"]="#ffffff",e={attrib:{style:{"background-color":e.root.attrib.style["background-color"],"box-sizing":"border-box",height:"100%",width:"100%","background-repeat":"no-repeat","background-size":"contain","background-position":"cover","background-image":"url('http://5b0988e595225.cdn.sohucs.com/images/20190204/ecf26954de514afe8c6992b66d446a25.jpeg');"}},tag:"div",text:"",tail:""}):e={attrib:{style:{"background-color":n[t],"box-sizing":"border-box",height:"100%",width:"100%"}},tag:"div",text:"",tail:""},e}function b(t,e,n,r){return"btn"===r?e={attrib:{class:"btn-leaf",style:{"background-color":n[t]}},tag:"div",text:"",tail:""}:"border"===r?e={attrib:{class:"border-leaf"},tag:"div",text:"",tail:""}:"card"===r?(e.root.attrib.style["background-color"]="#ffffff",e={attrib:{class:"card-leaf"},tag:"div",text:"",tail:""}):"img-contain"===r?(e.root.attrib.style["background-color"]="#ffffff",e={attrib:{class:"img-leaf",style:{"background-size":"contain"}},tag:"div",text:"",tail:""}):"img-cover"===r?(e.root.attrib.style["background-color"]="#ffffff",e={attrib:{class:"img-leaf",style:{"background-size":"cover"}},tag:"div",text:"",tail:""}):"plain-img-contain"===r?(e.root.attrib.style["background-color"]="#ffffff",e={attrib:{class:"plain-img-leaf",style:{"background-size":"contain"}},tag:"div",text:"",tail:""}):"plain-img-cover"===r?(e.root.attrib.style["background-color"]="#ffffff",e={attrib:{class:"plain-img-leaf",style:{"background-size":"cover"}},tag:"div",text:"",tail:""}):e={attrib:{class:"plain-leaf",style:{"background-color":n[t]}},tag:"div",text:"",tail:""},e}function p(t){let e=t.tem,n=void 0===t.mode?"btn":t.mode,o=t.inline,{zones:s,cmat:u}=l(e),c=i(u),a={};for(let t in c)a[t]="#"+r.ansi256.hex(c[t]);let f={root:{tag:"div",attrib:{style:{height:u.length/u[0].length*100+"vw",width:"100vw","box-sizing":"border-box","background-color":"#000022"}},text:"",tail:""}};for(let t in a)f[t]=o?g(t,f,a,n):b(t,f,a,n);return f}t.exports={playout:o,get_dflt_cfg:p,s2html:function(t){let e=t.tem,n=t.cfg,r=(t.mode,t.inline);void 0===n&&(n=p(t));let{zones:i,cmat:o}=l(e),d=c(i),_=a(d);_=function(t){return t.$sdfs().filter(t=>t.$is_leaf()).forEach(t=>{t.$append_child().zone=f(t.zone),delete t.zone.rune,t.zone.type="row"}),t}(_);let h=_.$sedfs();return{cfg:n,html:r?s(n,h):u(n,h)}},cellfunc:d,zonefunc:h,whtml:_}},function(t,e,n){const r=n(3),i=n(12),l={};Object.keys(r).forEach(t=>{l[t]={},Object.defineProperty(l[t],"channels",{value:r[t].channels}),Object.defineProperty(l[t],"labels",{value:r[t].labels});const e=i(t);Object.keys(e).forEach(n=>{const r=e[n];l[t][n]=function(t){const e=function(...e){const n=e[0];if(null==n)return n;n.length>1&&(e=n);const r=t(e);if("object"==typeof r)for(let t=r.length,e=0;e<t;e++)r[e]=Math.round(r[e]);return r};return"conversion"in t&&(e.conversion=t.conversion),e}(r),l[t][n].raw=function(t){const e=function(...e){const n=e[0];return null==n?n:(n.length>1&&(e=n),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(r)})}),t.exports=l},function(t,e,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,n){const r=n(3);function i(t){const e=function(){const t={},e=Object.keys(r);for(let n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;){const t=n.pop(),i=Object.keys(r[t]);for(let r=i.length,l=0;l<r;l++){const r=i[l],o=e[r];-1===o.distance&&(o.distance=e[t].distance+1,o.parent=t,n.unshift(r))}}return e}function l(t,e){return function(n){return e(t(n))}}function o(t,e){const n=[e[t].parent,t];let i=r[e[t].parent][t],o=e[t].parent;for(;e[o].parent;)n.unshift(e[o].parent),i=l(r[e[o].parent][o],i),o=e[o].parent;return i.conversion=n,i}t.exports=function(t){const e=i(t),n={},r=Object.keys(e);for(let t=r.length,i=0;i<t;i++){const t=r[i];null!==e[t].parent&&(n[t]=o(t,e))}return n}},function(t,e,n){const r=n(14),i=n(2),l=n(16),o=n(8);t.exports={ndfunc:i,ndfuncterm:l,ndcls:r,ndutil:o}},function(t,e,n){const r=n(8),i=n(1),l=n(2),o=n(15).EventTarget,s=["_fstch","_lsib","_rsib","_parent","_tree"];function u(t){return void 0!==t._tree}function c(t){return t._tree===t}function a(t){return c(t)||!u(t)}function f(t){let e=t._fstch,n=e;for(;null!==e;)n=e,e=e._rsib;return n}function d(t,e){let n=0,r=e._fstch;for(;;){if(n===t)return r;if(null===r)return r;r=r._rsib,n+=1}}function _(t,...e){let n=[],r=0,i=t._fstch;for(;;){if(e.includes(r))n.push(i);else if(null===i)return n;i=i._rsib,r+=1}}function h(t){let e=[],n=0,r=t._fstch;for(;;){if(null===r)return e;e.push(r),r=r._rsib,n+=1}}function g(t,e=!1){let n=t._rsib,r=t;for(;null!==n;)r=n,n=n._rsib;return e||r!==t?r:null}function b(t,e=!1){let n=x(t);if(null===n)return e?t:null;{let r=n._fstch;return e||r!==t?r:null}}function p(t){let e=[],n=b(t,!0);for(;null!==n;){if(n===t)return e;e.push(n),n=n._rsib}}function $(t){let e=[],n=t._rsib;for(;null!==n;)e.push(n),n=n._rsib;return e}function m(t,e=!1){let n=p(t),r=$(t),i=[t];return sibs=e?n.concat(i,r):n.concat(r),sibs}function y(t){return p(t).length}function x(t){return g(t,!0)._parent}function v(t,e=!1){let n=[],r=t;for(e&&n.push(r),r=r.$parent();null!==r;)n.push(r),r=r.$parent();return n}function w(t,e=!1){let n=O(t),r=S(t),i=r.indexOf(n);return e?r.slice(0,i+1):r.slice(1,i+1)}function k(t,e){if(!a(e))return console.log("only root or uninited could be prepend"),e;let n=t.$is_leaf();if(e._tree=t._tree,e._lsib=null,n)e._rsib=null,e._parent=t;else{let n=t._fstch;n._lsib=void 0,e._rsib=n,e._parent=void 0}return t._fstch=e,e}function z(t,e){if(!a(e))return console.log("only root or uninited could be append"),e;let n=t.$is_leaf();if(e._tree=t._tree,e._rsib=null,n)t._fstch=e,e._lsib=null;else{let n=t.$lstch();n._parent=void 0,n._rsib=e,e._lsib=void 0}return e._parent=t,e}function j(t,e){if(!a(e))return console.log("only root or uninited could be add"),e;if(t.$is_root())return console.log("cant addrsib to root"),t;let n=t.$is_lstch();return e._tree=t._tree,n?(e._parent=t._parent,t._parent=void 0,e._rsib=null):(e._rsib=t._rsib,e._parent=void 0),t._rsib=e,e._lsib=void 0,e}function M(t,e,n){let r=h(e),i=r.length;if(0===i)n=k(e,n);else{if(t<=i&&t>=0)if(0===t)n=k(e,n);else if(t===i)n=z(e,n);else{n=j(r[t-1],n)}else console.log("not in range!!")}return n}function O(t){let e=t,n=t.$lstch();for(;null!==n;)e=n,n=n.$lstch();return e}function S(t){let e=t.$depth();if(null===t)return[];{let n=[t];for(t=t.$sdfs_next();null!==t&&t.$depth()>e;)n.push(t),t=t.$sdfs_next();return n}}function E(t){let e=t.$visited;if(t.$is_leaf()){if(e){let e=t.$rsib();return null===e?t.$parent():e}return t.$visited=!0,t}if(e){let e=t.$rsib();return null===e?t.$parent():e}return t.$visited=!0,t.$fstch()}function q(t,e){return e.$visited&&t===e}function N(t){!function(t){t.$sdfs().forEach(t=>{delete t.$visited})}(t);let e=[],n=new Set,r=t;for(;!q(r,t);)n.has(t)?t.$close_at=e.length:(t.$open_at=e.length,n.add(t)),e.push(t),t=E(t);return r.$close_at=e.length,e.push(r),e.forEach(t=>{delete t.$visited}),e}function P(t){return t._lsib=null,t._rsib=null,t._parent=null,t}function J(t){let e=t.$sdfs();return e.forEach(t=>{t._tree=e[0]}),e}function T(t){if(t.$is_root())return t;if(t.$is_lonely()){!function(t){t._fstch=null}(t.$parent());J(t);return P(t),t}if(t.$is_fstch()){t.$rsib()._lsib=null,t.$parent()._fstch=t._rsib;J(t);return P(t),t}if(t.$is_lstch()){let e=t.$lsib();e._rsib=t._rsib,e._parent=t._parent;J(t);return P(t),t}t.$lsib()._rsib=t._rsib;J(t);return P(t),t}function A(t){let e={};return e._nd=t,e._children=[],e}class F extends o{constructor(){super(),this._fstch=null,this._lsib=void 0,this._rsib=void 0,this._parent=void 0,this._tree=void 0,this.$guid=i.gen_guid()}$is_inited(){return u(this)}$is_root(){return c(this)}$is_fstch(){return null===this._lsib}$is_lstch(){return null===this._rsib}$is_leaf(){return null===this._fstch}$is_lonely(){return 1===this.$sibs(!0).length}$fstch(){return this._fstch}$lstch(){return f(this)}$which_child(t){return d(t,this)}$some_children(...t){return _(this,...t)}$children(){return h(this)}$children_count(){return function(t){let e=0,n=t._fstch;for(;;){if(null===n)return e;n=n._rsib,e+=1}}(this)}$rsib(){return this._rsib}$lsib(){return function(t){let e=b(t,!1);if(null===e)return null;{let n=e;for(;;){if(n._rsib===t)return n;n=n._rsib}}}(this)}$fstsib(t=!1){return b(this,t)}$lstsib(t=!1){return g(this,t)}$psibs(){return p(this)}$fsibs(){return $(this)}$which_sib(t){return function(t,e){let n=b(e,!0),r=0;for(;;){if(null===n)return null;if(r==t)return n;n=n._rsib,r+=1}}(t,this)}$some_sibs(...t){return function(t,...e){return m(t,!0).filter((t,n)=>e.includes(n))}(this,...t)}$sibseq(){return y(this)}$sibs(t=!1){return m(this,t)}$sibs_count(t=!1){return function(t,e=!1){return t.$sibs(e).length}(this,t)}$parent(){return x(this)}$root(){return function(t){let e=t,n=t;for(;null!==e;)n=e,e=e.$parent();return n}(this)}$ances(t=!1){return v(this,t)}$which_ance(t){return function(t,e){let n=0,r=e;for(;null!==r;){if(n===t)return r;r=r.$parent(),n+=1}return null}(t,this)}$some_ances(...t){return function(t,...e){return v(t,!0).filter((t,n)=>e.includes(n))}(this,...t)}$ances_count(t=!1){return function(t,e=!1){return v(t,e).length}(this,t)}$prepend_child(t){return k(this,t=void 0===t?new F:t)}$insert_child(t,e){return M(t,this,e=void 0===e?new F:e)}$append_child(t){return z(this,t=void 0===t?new F:t)}$clone(){if(c(this)){return U(R(this))}{let t=y(this),e=x(this);T(this);let n=U(R(this));return M(t,e,this),n}}$append_children(t,e){let n=[];for(let r=0;r<t;r++){let t=void 0===e?new F:e.$clone();t=z(this,t),n.push(t)}return n}$add_rsib(t){return j(this,t=void 0===t?new F:t)}$add_lsib(t){return function(t,e){if(!a(e))return console.log("only root or uninited could be add"),e;if(t.$is_root())return console.log("cant addlsib to root"),t;let n=t.$is_fstch();if(e._tree=t._tree,n){let n=t.$parent();t._lsib=void 0,e._lsib=null,n._fstch=e}else{t.$lsib()._rsib=e,e._lsib=void 0}return e._rsib=t,e._parent=void 0,e}(this,t=void 0===t?new F:t)}$rsib_of_fst_ance_having_rsib(){return function(t){let e=t.$parent();for(;null!==e;){let t=e.$rsib();if(null!==t)return t;e=e.$parent()}return null}(this)}$sdfs_next(){return function(t){let e=t.$fstch();if(null!==e)return e;{let e=t.$rsib();return null!==e?e:t.$rsib_of_fst_ance_having_rsib()}}(this)}$drmost_des(){return O(this)}$sdfs_prev(){return function(t){if(t.$is_root())return null;if(t.$is_leaf()){let e=t.$lsib();if(null!==e)return e;return t.$parent()}{let e=t.$lsib();if(null!==e){return e.$is_leaf()?e:e.$drmost_des()}return t.$parent()}}(this)}$sdfs(){return S(this)}$dlmost_des(){return function(t){let e=t,n=t.$fstch();for(;null!==n;)e=n,n=n.$fstch();return e}(this)}$edfs_next(){return function(t){let e=t.$rsib();if(null===e){return t.$parent()}return e.$dlmost_des()}(this)}$lsib_of_fst_ance_having_lsib(){return function(t){let e=t.$parent();for(;null!==e;){let t=e.$lsib();if(null!==t)return t;e=e.$parent()}return null}(this)}$edfs_prev(){return function(t){if(t.$is_leaf()){let e=t.$lsib();return null===e?t.$lsib_of_fst_ance_having_lsib():e}return t.$lstch()}(this)}$edfs(){return function(t){let e=[],n=t.$dlmost_des();for(;null!==n&&(e.push(n),n!==t);)n=n.$edfs_next();return e}(this)}$offset(){return function(t){let e,n=t.$root().$edfs();if(t.$is_leaf())e=n.indexOf(t);else{let r=t.$dlmost_des();e=n.indexOf(r)}return n=n.slice(0,e+1),offset=n.filter(t=>t.$is_leaf()).length-1,offset}(this)}$sedfs_next(){return E(this)}$sedfs_prev(t){return function(t,e){if(e.$is_leaf()){if(t)return e;{let t=e.$lsib();return null===t?e.$parent():t}}if(t)return e.$lstch();{let t=e.$lsib();return null===t?e.$parent():t}}(this)}$sedfs(){return N(this)}$deses(t=!1){return w(this,t)}$lst_lyr_deses(){return function(t){let e=t.$deses(!1),n=e.map(t=>t.$depth()),r=Math.max(...n);return e=e.filter(t=>t.$depth()===r),e}(this)}$which_lyr_deses(t){return function(t,e){let n=e.$depth(),r=e.$deses(!1);return r.map(t=>t.$depth()),r=r.filter(e=>e.$depth()===n+t),r}(t,this)}$some_lyrs_deses(...t){return function(t,...e){let n=t.$depth(),r=e.map(t=>t+n),i=t.$deses(!1);return i.map(t=>t.$depth()),i=i.filter(t=>r.includes(t.$depth())),i}(this,...t)}$count(t=!0){return w(this,t).length}$depth(t=!1){return v(this,t).length}$height(){let t=this.$depth(),e=this.$sdfs().map(t=>t.$depth());return Math.max(...e)-t+1}$breadth(){return(t=this).$lyr().indexOf(t);var t}$width(){return function(t){let e=t.$sdfs();return e=e.filter(t=>t.$is_leaf()),e.length}(this)}$lyr(){return function(t){let e=t.$root().$sdfs(),n=t.$depth();return e.filter(t=>t.$depth()===n)}(this)}$lcin(){return function(t){let e=t.$luncle();return t.$is_fstch()?null===e?null:e.$lstch():null}(this)}$rcin(){return function(t){let e=t.$runcle();return t.$is_lstch()?null===e?null:e.$fstch():null}(this)}$luncle(){return function(t){let e=t.$parent();return null===e?null:e.$lsib()}(this)}$runcle(){return function(t){let e=t.$parent();return null===e?null:e.$rsib()}(this)}$sdfs_repr(){let t=S(this.$root()),e=S(this);e.map(t=>t.$depth()).map(t=>"    ".repeat(t)).forEach((n,r)=>{console.log(n+"["+t.indexOf(e[r])+"] : "+e[r].$guid)})}$sedfs_repr(){I(this.$root()),N(this).forEach((t,e)=>{let n=t.$depth(),r="    ".repeat(n);e===t.$open_at&&console.log(r+"<"+t._id+" : "+t.$guid+">"),e===t.$close_at&&console.log(r+"</"+t._id+" : "+t.$guid+">")})}$disconn(){return T(this)}$rm_fstch(){return T(this._fstch)}$rm_lstch(){return T(f(this))}$rm_which(t){return T(d(t,this))}$rm_some_children(...t){return _(this,...t).map(t=>T(t))}$rm_all_children(){return h(this).map(t=>T(t))}$dump(){if(this.$is_root())return R(this);console.log("only root !!!")}$dump2file(t){if(this.$is_root()){let e=R(this);r.wjson(t,e)}else console.log("only root !!!")}$sdfs2mat(){return function(t){let e=[],n=[A(t[0])];for(n[0]._pbreadth=null;n.length>0;){let t=[];for(let r=0;r<n.length;r++){n[r]._breadth=r,n[r]._depth=e.length;let i=n[r]._nd.$children();i=i.map(t=>A(t)),i.forEach((i,l)=>{i._pbreadth=n[r]._breadth,n[r]._children.push([e.length+1,t.length+l])}),t=t.concat(i)}let r=n;e.push(r),n=t}return e}(S(this))}}function I(t){let e=S(t);return e.forEach((t,e)=>{t._id=e}),e}function L(t,e){for(;e._id!==t;)e=e._parent;return e}function C(t,e){let n=X(e);for(let r of n)t[r]=e[r];return t}function U(t){let e=i.dict_keys(t)[0],n=l.get_root(t[e],t),r=function(t){let e=new B;return e._id=t._id,e.$guid=t._guid,e}(n);r=C(r,n);let o,s=r,u=n,c=l.get_sdfs_next(u,t);for(;null!==c;)if(u._fstch===c._id)o=s.$prepend_child(),o._id=c._id,o.$guid=c._guid,o=C(o,c),s=o,u=c,c=l.get_sdfs_next(u,t);else if(u._rsib===c._id)o=s.$add_rsib(),o._id=c._id,o.$guid=c._guid,o=C(o,c),s=o,u=c,c=l.get_sdfs_next(u,t);else if(null!==c._parent&&void 0!==c._parent){s=L(c._parent,s),o=s.$append_child(),o._id=c._id,o.$guid=c._guid,o=C(o,c),s=o,u=c,c=l.get_sdfs_next(u,t)}else if(void 0===c._parent){s=L(l.get_parent(c,t)._id,s),o=s.$append_child(),o._id=c._id,o.$guid=c._guid,o=C(o,c),s=o,u=c,c=l.get_sdfs_next(u,t)}else console.log("Impossible",s,u,c);return r}function V(t,e){return null===t[e]?null:void 0===t[e]?void 0:t[e]._id}function X(t){return i.dict_keys(t).filter(t=>!s.includes(t))}function R(t){let e=I(t),n=t._id,r={};return e.forEach((t,e)=>{let i={};i._tree=n,i._fstch=V(t,"_fstch"),i._lsib=V(t,"_lsib"),i._rsib=V(t,"_rsib"),i._parent=V(t,"_parent"),i._id=t._id,i._guid=t.$guid,i=function(t,e){let n=X(t);for(let r of n)e[r]=t[r];return e}(t,i),r[t._id]=i}),r}class B extends F{constructor(){super(),this._fstch=null,this._lsib=null,this._rsib=null,this._parent=null,this._tree=this}$is_parent_of(t){return t.$parent()===this}$is_root_of(t){return t.$root()===this}$is_descendant_of(t){return t.$deses(!1).indexOf(this)>=0}$is_inclusive_descendant_of(t){return t.$deses(!0).indexOf(this)>=0}$is_ancestor_of(t){return t.$ances(!1).indexOf(this)>=0}$is_inclusive_ancestor_of(t){return t.$ances(!0).indexOf(this)>=0}$is_sibling_of(t){return t.$sibs(!1).indexOf(this)>=0}$is_inclusive_siblings_of(t){return t.$sibs(!0).indexOf(this)>=0}$is_preceding_of(t){let e=t.$sdfs(),n=e.indexOf(t),r=e.indexof(this);return r>=0&&r<n}$is_following_of(t){let e=t.$sdfs(),n=e.indexOf(t);return e.indexof(this)>n}$is_first_child_of(t){return this===t.$fstch()}$is_child_of(t){return t.$children().indexOf(this)>=0}$is_last_child_of(t){return this===t.$lstch()}$is_previous_sibling_of(t){return this===t.$lsib()}$is_next_sibling_of(t){return this===t.$rsib()}$index(){return this.$sibseq()}$sdfs_index(){return this.$sdfs().indexOf(this)}}function D(t){if("string"==typeof t){return U(r.rjson(t))}if("object"==typeof t){return U(t)}return new B}t.exports={Node:F,Tree:B,Root:B,load:D,clone:function(t){return t.$dump(),D(ndict)},struct_eq:function(t,e){let n=t.$sdfs2mat(),r=e.$sdfs2mat(),i=Array.prototype.concat(...n),l=Array.prototype.concat(...r);if(i.length!==l.length)return!1;for(let t=0;t<i.length;t++)if(o=i[t],s=l[t],o._pbreadth!==s._pbreadth||o._breadth!==s._breadth||o._depth!==s._depth)return!1;var o,s;return!0}}},function(t,e){t.exports={EventTarget:class{constructor(){}addEventListener(t,e,n={}){}removeEventListener(t,e,n={}){}dispatchEvent(t){}}}},function(t,e,n){const r=n(2),i=n(1),l={t:"├── ",v:"│   ",l:"└── ",ws:"    "},o={t:"├── ",v:"│   ",l:"┌── ",ws:"    "};function s(t){let e;return e="t"===t||"v"===t?"v":"ws",e}function u(t,e){return(t=t.map(t=>e[t])).join("")}function c(t){for(let e in t)delete t[e]._ui}function a(t,e){if(t._ui={},r.is_root(t))t._ui.conns=[],t._ui.display=!0;else{let n=r.get_parent(t,e)._ui.conns.map(t=>s(t));r.is_lstch(t)?n.push("l"):n.push("t"),t._ui.conns=n,t._ui.display=!0}return t}function f(t,e,n){let i=r.get_depth(t,e),o=r.get_deses(t,e,!0);o=o.map(t=>a(t,e));let s=o.map(t=>t._ui.conns);s=s.map(t=>t.slice(i)),s=s.map(t=>u(t,l));let c=s.map((t,e)=>t+"["+o[e]._id+"] : "+o[e]._guid);return c=c.filter((t,e)=>!0===o[e]._ui.display),c}function d(){}function _(){}function h(t,e){if(t._ui={},r.is_root(t))t._ui.conns=[];else{let n=r.get_parent(t,e)._ui.conns.map(t=>s(t));r.is_fstch(t)?n.push("l"):n.push("t"),t._ui.conns=n}return t}function g(t,e,n){let i=r.get_depth(t,e),l=r.get_edfs(t,e);l.reverse(),l=l.map(t=>h(t,e)),l.reverse();let s=r.get_deses(t,e,!0).map(t=>t._id);l=l.filter(t=>s.includes(t._id));let c=l.map(t=>t._ui.conns);return c=c.map(t=>t.slice(i,t.length)),c=c.map(t=>u(t,o)),c.map((t,e)=>t+l[e]._id)}const b={indent:"    ",stag_prefix:"<",stag_suffix:">",etag_prefix:"</",etag_suffix:">"};function p(t,e,n){return e+t+n}t.exports={dflt_calc_conn_map_func:s,conns2repr:u,clear_ui:c,dflt_sdfs_show_connd:l,dflt_sdfs_calc_conns:a,get_sdfs_repr_arr:f,sdfs_show_all:function(t,e,n=d){f(r.get_root(t,e),e);let i=f(t,e).join("\n");console.log(i),c(e)},sdfs_show_root_tree:function(t,e=d){let n=i.dict_keys(t)[0],l=f(r.get_root(t[n],t),t).join("\n");console.log(l),c(t)},sdfs_show_from:function(t,e,n,i=d){f(r.get_root(t,e),e);let l=f(t,e);l=l.slice(n);let o=l.join("\n");console.log(o),c(e)},sdfs_show_to:function(t,e,n,i=d){f(r.get_root(t,e),e);let l=f(t,e);l=l.slice(0,n);let o=l.join("\n");console.log(o),c(e)},sdfs_show_from_to:function(t,e,n,i,l=d){f(r.get_root(t,e),e);let o=f(t,e);o=o.slice(n,i);let s=o.join("\n");console.log(s),c(e)},sdfs_expand:function(t,e,n=d){return r.get_deses(t,e,!1).forEach(t=>{t._ui.display=!0}),e},sdfs_foldup:function(t,e,n=d){return r.get_deses(t,e,!1).forEach(t=>{t._ui.display=!1}),e},dflt_edfs_show_connd:o,dflt_edfs_calc_conns:h,get_edfs_repr_arr:g,edfs_show_all:function(t,e,n=_){g(r.get_root(t,e),e);let i=g(t,e).join("\n");console.log(i),c(e)},edfs_show_root_tree:function(t,e=_){let n=i.dict_keys(t)[0],l=g(r.get_root(t[n],t),t).join("\n");console.log(l),c(t)},edfs_show_from:function(t,e,n,i=_){r.get_root(t,e),g(t,e);let l=g(t,e);l=l.slice(0,l.length-n);let o=l.join("\n");console.log(o),c(e)},edfs_show_to:function(t,e,n,i=_){r.get_root(t,e),g(t,e);let l=g(t,e);l=l.slice(l.length-n,l.length);let o=l.join("\n");console.log(o),c(e)},edfs_show_from_to:function(t,e,n,i,l=_){r.get_root(t,e),g(t,e);let o=g(t,e);o=o.slice(o.length-i,o.length-n);let s=o.join("\n");console.log(s),c(e)},dflt_sedfs_show_connd:b,gen_tag:p,sedfs_show_all:function(t,e,n=b){let i=r.get_sedfs(t,e,!0),l=i.map(t=>r.get_depth(t,e)),o=r.get_depth(t,e),s=l.map(t=>n.indent.repeat(t-o)),u=i.map(t=>!1===t._$visited?p(t._id,n.stag_prefix,n.stag_suffix):p(t._id,n.etag_prefix,n.etag_suffix)).map((t,e)=>s[e]+t).join("\n");console.log(u)}}}])}));
//# sourceMappingURL=nvflex.js.map